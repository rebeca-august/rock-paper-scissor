<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        function computerPlay() {
            let choices = ["rock", "paper", "scissors"]
            let randomNumber = random(choices.length)
            return choices[randomNumber]
        }

        function random(max) {
            return Math.floor(Math.random() * Math.floor(max))
        }

        function playRound(playerSelection, computerSelection) {
            let playerChoice = playerSelection.toLowerCase()
            if (playerChoice === computerSelection) {
                return `Play again! You chose both ${playerChoice}`
            }
            if (playerChoice === "rock" && computerSelection === "paper") {
                return "You Lose! Paper beats Rock"
            }
            if (playerChoice === "rock" && computerSelection === "scissors") {
                return "You Won! Rock beats Scissors"
            }

            if (playerChoice === "paper" && computerSelection === "rock") {
                return "You Won! Paper beats Rock"
            }

            if (playerChoice === "paper" && computerSelection === "scissors") {
                return "You Lose! Scissors beats Paper"
            }

            if (playerChoice === "scissors" && computerSelection === "rock") {
                return "You Lose! Rock beats Scissors"
            }
            if (playerChoice === "scissors" && computerSelection === "paper") {
                return "You Won! Scissors beats Paper"
            }
        }

        function game(rounds) {
            let computerScore = 0
            let playerScore = 0

            for (let i = 0; i < rounds; i++) {
                let input = prompt(`Round ${i + 1}/${rounds} Rock, paper or scissors?`)
                let result = playRound(input, computerPlay())
                console.log(result)

                if (result.includes("You Won!")) {
                    playerScore++
                } else if (result.includes("You Lose!")) {
                    computerScore++
                }

            }

            if (computerScore > playerScore) {
                return `You Lost! ${playerScore} / ${computerScore}`
            }

            if (computerScore < playerScore) {
                return `You Won! ${playerScore} / ${computerScore}`
            }

            return `It's a draw! ${playerScore} / ${computerScore}`
        }

        console.log(game(5))
    </script>
</body>

</html>